<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(11)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(11) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(11) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(11) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>1-2 Jenkins 설치하기 with JCASC | Just the Docs Template</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="1-2 Jenkins 설치하기 with JCASC" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://0.0.0.0:4000/docs/02_Tech/CICD/Jenkins/jenkins-jcasc-installation" /> <meta property="og:url" content="http://0.0.0.0:4000/docs/02_Tech/CICD/Jenkins/jenkins-jcasc-installation" /> <meta property="og:site_name" content="Just the Docs Template" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="1-2 Jenkins 설치하기 with JCASC" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"1-2 Jenkins 설치하기 with JCASC","url":"http://0.0.0.0:4000/docs/02_Tech/CICD/Jenkins/jenkins-jcasc-installation"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Just the Docs Template </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/00_Portfolio/portfolio.html" class="nav-list-link">Portfolio</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Languages category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/01_Languages" class="nav-list-link">Languages</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Java category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/01_languages/Java" class="nav-list-link">Java</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/01_languages/Java/Security6" class="nav-list-link">Security6</a> </li><li class="nav-list-item"> <a href="/docs/01_languages/Java/Security6" class="nav-list-link">Security6</a> </li></ul></li><li class="nav-list-item"><a href="/docs/01_languages/Markdown" class="nav-list-link">Markdown</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in TypeScript category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/01_languages/TypeScript" class="nav-list-link">TypeScript</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/01_Language/TypeScript/AwsCloudScape/awscloudscape" class="nav-list-link">AWS CloudScape Component</a> </li><li class="nav-list-item"> <a href="/docs/01_Language/TypeScript/AwsCloudScape/nextjs/learn-next-js" class="nav-list-link">Next.js</a> </li><li class="nav-list-item"> <a href="/docs/01_Language/TypeScript/AwsCloudScape/nextjs" class="nav-list-link">Next.js</a> </li><li class="nav-list-item"> <a href="/docs/01_Language/TypeScript/AwsCloudScape/nextjs/learn-next-js" class="nav-list-link">Next.js</a> </li><li class="nav-list-item"> <a href="/docs/01_Language/TypeScript/AwsCloudScape/react" class="nav-list-link">React</a> </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tech category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech" class="nav-list-link">Tech</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in InteliJ category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech/InteliJ" class="nav-list-link">InteliJ</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in AWS category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech/AWS" class="nav-list-link">AWS</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudFrontFunction" class="nav-list-link">1. CloudFront Function vs Lambda@Edge 비교</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ECS/ecs-cluster-create" class="nav-list-link">1. ECS 구축하기</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ECS" class="nav-list-link">1. ECS</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/Lambda@Edge" class="nav-list-link">1. Lambda@Edge 와 JWT Web Tokens</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/Lambda@Edge" class="nav-list-link">1. Lambda@Edge 와 JWT Web Tokens</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ECS" class="nav-list-link">1. Network</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudWatch/cloudwatch-alarm" class="nav-list-link">2. Cloud Watch Alarm</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudWatch" class="nav-list-link">2. CloudWatch</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ECS/ecs-capacity-provider" class="nav-list-link">2. ECS 용량공급자</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/APIGateway/RESTAPIGateway" class="nav-list-link">2. Cloud Watch Alarm</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/SAM" class="nav-list-link">2. SAM</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Terramate" class="nav-list-link">2. Terramate</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ElasticSearch" class="nav-list-link">3. Elastic Search</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/EventBridge" class="nav-list-link">3. EventBridge</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudFront/Image-Resizing-S3-CF/image-resizing-s3-cf" class="nav-list-link">2. AWS S3, Lambda, API Gateway를 활용한 실시간 이미지 리사이징 솔루션</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/APIGateway/RESTAPIGateway/Image-Resizing-S3" class="nav-list-link">2. AWS S3, Lambda, API Gateway를 활용한 실시간 이미지 리사이징 솔루션</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/APIGateway" class="nav-list-link">5. API Gateway</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudFront" class="nav-list-link">5. Amazon CloudFront</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudFront" class="nav-list-link">5. Amazon CloudFront</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/CloudShell" class="nav-list-link">5. CloudShell</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/ElasticCache" class="nav-list-link">5. Elastic Cache</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/AWS/APIGateway/HTTPAPIGateway" class="nav-list-link">6. HTTP API Gateway</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in CICD category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech/CICD" class="nav-list-link">CICD</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/02_Tech/InteliJ/Java" class="nav-list-link">1. Java</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins" class="nav-list-link">1. Jenkins</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-installation" class="nav-list-link">1-1. AWS EC2에서 Docker를 사용하여 Jenkins 배포하기</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-checkout-scm" class="nav-list-link">1-3. jenkins checkout</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-jcasc-installation" class="nav-list-link">1-2 Jenkins 설치하기 with JCASC</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Jenkins/jenkins-notification-teams" class="nav-list-link">1-3 Teams 배포 승인 메세지</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CircleCI" class="nav-list-link">2. CircleCI</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CodePipeline" class="nav-list-link">2. CodePipeline</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-app" class="nav-list-link">2-1. TypeScript CDK로 재사용 가능한 모듈 구조 작성하기 (1편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-construct" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - Construct (4편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-context" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - App, Context (2편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-pipeline-pattern" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - pipeline (5편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-pipeline-pattern" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - pipeline (5편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-stack-advanced" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - Stack Advanced (5편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-stack-advanced" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - Stack Advanced (5편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-stack-advanced" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - Stack Advanced (5편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK/cdk-module-stack" class="nav-list-link">2-1. TypeScript CDK로 재사용가능한 모듈 구조 작성하기 - Stack (3편)</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CodePipeline/codepipeline-sam-lambda" class="nav-list-link">2-1. AWS CodePipeline을 이용해 SAM으로 Lambda 배포하기</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/SAM/java-sam-lambda" class="nav-list-link">2-1. AWS SAM을 이용해 Lambda로 JAVA 어플리케이션 배포하기</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/Bamboo" class="nav-list-link">3. Bamboo</a> </li><li class="nav-list-item"> <a href="/docs/02_Tech/CICD/CDK" class="nav-list-link">6. CDK</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in CKA category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech/IAC" class="nav-list-link">CKA</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in IAC category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/02_Tech/IAC" class="nav-list-link">IAC</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/03_Project" class="nav-list-link">Project</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/03_Project/Project_1_gitblog" class="nav-list-link">깃 블로그 만들기</a></li><li class="nav-list-item"><a href="/docs/03_Project/Project_2_ecs_pipeline" class="nav-list-link">Jenkins Pipeline - ECS</a></li><li class="nav-list-item"><a href="/docs/03_Project/Project_3_aws_exporter" class="nav-list-link">AWS Exporter Application 개발하기</a></li></ul></li><li class="nav-list-item"><a href="/" class="nav-list-link">Kimkm's 02_Tech Blog</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Just the Docs Template" aria-label="Search Just the Docs Template" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/just-the-docs/just-the-docs-template" class="site-button" > Template Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/02_Tech">Tech</a></li> <li class="breadcrumb-nav-list-item"><a href="/docs/02_Tech/CICD">CICD</a></li> <li class="breadcrumb-nav-list-item"><span>1-2 Jenkins 설치하기 with JCASC</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="jenkins-configuration-as-code-플러그인을-사용하여-사용자-정의-구성이-적용된-jenkins-docker-서비스-배포하기"> <a href="#jenkins-configuration-as-code-플러그인을-사용하여-사용자-정의-구성이-적용된-jenkins-docker-서비스-배포하기" class="anchor-heading" aria-labelledby="jenkins-configuration-as-code-플러그인을-사용하여-사용자-정의-구성이-적용된-jenkins-docker-서비스-배포하기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Jenkins Configuration as Code 플러그인을 사용하여 사용자 정의 구성이 적용된 Jenkins Docker 서비스 배포하기 </h1> <h2 class="no_toc no_toc text-delta" id="목차"> <a href="#목차" class="anchor-heading" aria-labelledby="목차"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 목차 </h2> <ol id="markdown-toc"> <li><a href="#jenkins-configuration-as-code-플러그인을-사용하여-사용자-정의-구성이-적용된-jenkins-docker-서비스-배포하기" id="markdown-toc-jenkins-configuration-as-code-플러그인을-사용하여-사용자-정의-구성이-적용된-jenkins-docker-서비스-배포하기">Jenkins Configuration as Code 플러그인을 사용하여 사용자 정의 구성이 적용된 Jenkins Docker 서비스 배포하기</a> <ol> <li><a href="#글을-쓴-배경" id="markdown-toc-글을-쓴-배경">글을 쓴 배경</a></li> <li><a href="#글-요약" id="markdown-toc-글-요약">글 요약</a></li> <li><a href="#시작하기-전" id="markdown-toc-시작하기-전">시작하기 전</a></li> <li><a href="#ec2-인스턴스에-사용자-정의-구성내용을-포한한-jenkins-인스턴스-배포" id="markdown-toc-ec2-인스턴스에-사용자-정의-구성내용을-포한한-jenkins-인스턴스-배포">EC2 인스턴스에 사용자 정의 구성내용을 포한한 Jenkins 인스턴스 배포</a> <ol> <li><a href="#awscli를-활용한-ec2-배포" id="markdown-toc-awscli를-활용한-ec2-배포">awscli를 활용한 EC2 배포</a></li> <li><a href="#userdata를-이용한-jenkins-자동배포" id="markdown-toc-userdata를-이용한-jenkins-자동배포">userdata를 이용한 Jenkins 자동배포</a></li> <li><a href="#21-userdatatxt" id="markdown-toc-21-userdatatxt">2.1 userdata.txt</a></li> <li><a href="#22-userdatatxt-상세-설명" id="markdown-toc-22-userdatatxt-상세-설명">2.2 userdata.txt 상세 설명</a></li> </ol> </li> </ol> </li> <li><a href="#docker-설치" id="markdown-toc-docker-설치">Docker 설치</a></li> <li><a href="#docker-서비스-활성화-및-시작" id="markdown-toc-docker-서비스-활성화-및-시작">Docker 서비스 활성화 및 시작</a> <ol> <li><a href="#jenkins-접속하기" id="markdown-toc-jenkins-접속하기">jenkins 접속하기</a></li> <li><a href="#advanced-jenkins-configuration-as-code" id="markdown-toc-advanced-jenkins-configuration-as-code">Advanced Jenkins Configuration as Code</a> <ol> <li><a href="#1-세분화된-role-based-access-control--rbac--설정" id="markdown-toc-1-세분화된-role-based-access-control--rbac--설정">1. 세분화된 Role-Based Access Control ( RBAC ) 설정</a> <ol> <li><a href="#agent-roles" id="markdown-toc-agent-roles">Agent roles</a></li> </ol> </li> </ol> </li> <li><a href="#faq" id="markdown-toc-faq">FAQ</a></li> </ol> </li> </ol><hr /> <h2 id="글을-쓴-배경"> <a href="#글을-쓴-배경" class="anchor-heading" aria-labelledby="글을-쓴-배경"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 글을 쓴 배경 </h2> <p>단순한 Jenkins 배포가 아닌 유저 프로비저닝 등 다양한 젠킨슨 설정을 자동으로 구성할 필요성을 느끼게 되었습니다.</p> <h2 id="글-요약"> <a href="#글-요약" class="anchor-heading" aria-labelledby="글-요약"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 글 요약 </h2> <p><strong>사용된 플러그인</strong></p> <ul> <li><strong>Jenkins Configuration as Code</strong>:</li> <li><strong>Role-based-Authorization Strategy</strong>:</li> </ul> <p><strong>프로세스 요약</strong></p> <ol> <li>userdata를 포함한 ec2 생성 하위는 userdata에 포함된 내용</li> <li>역할 기반 설정과 관리자 사용자의 자격 증명을 포함하는 jenkins.yml 파일을 생성합니다.</li> <li>환경 변수 CASC_JENKINS_CONFIG를 설정하여 첫 번째 단계에서 생성한 jenkins.yml 파일을 배치할 위치를 지정합니다.</li> <li>jenkins.yml 파일을 CASC_JENKINS_CONFIG의 위치에 바인드 마운트합니다. Jenkins 설정을 YAML 파일로 정의함으로써 사용자 지정 젠킨슨 구성을 자동화 합니다.</li> </ol> <h2 id="시작하기-전"> <a href="#시작하기-전" class="anchor-heading" aria-labelledby="시작하기-전"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 시작하기 전 </h2> <p>Jenkins와 AWS에 대한 기본적인 사용 경험을 가진 DevOps 엔지니어를 대상으로 합니다. Jenkins에 대한 기본적인 이해가 필요합니다.</p> <p>사용한 레포지토리 주소 Jenkins-repo</p> <p>https://github.com/jenkinsci/configuration-as-code-plugin/tree/master/demos</p> <h2 id="ec2-인스턴스에-사용자-정의-구성내용을-포한한-jenkins-인스턴스-배포"> <a href="#ec2-인스턴스에-사용자-정의-구성내용을-포한한-jenkins-인스턴스-배포" class="anchor-heading" aria-labelledby="ec2-인스턴스에-사용자-정의-구성내용을-포한한-jenkins-인스턴스-배포"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> EC2 인스턴스에 사용자 정의 구성내용을 포한한 Jenkins 인스턴스 배포 </h2> <p>awscli를 활용한 ec2 배포 부분은 <a href="https://blog.kimkm.com/docs/02_Tech/CICD/Jenkins/jenkins-installation">앞에서 설명한 방식</a>과 동일합니다. 본 내용에서는 최초 젠킨슨 이미지를 배포할 때 유저 프로비저닝 등 다양한 환경구성을 함께 적용하여 배포하는 방식을 공유합니다.</p> <h3 id="awscli를-활용한-ec2-배포"> <a href="#awscli를-활용한-ec2-배포" class="anchor-heading" aria-labelledby="awscli를-활용한-ec2-배포"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> awscli를 활용한 EC2 배포 </h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 run-instances <span class="se">\</span>
  <span class="nt">--image-id</span> <span class="k">${</span><span class="nv">UBUNTU_AMI_ID</span><span class="k">}</span> <span class="se">\</span>
  <span class="nt">--count</span> 1 <span class="se">\</span>
  <span class="nt">--instance-type</span> t3.large <span class="se">\</span>
  <span class="nt">--key-name</span> <span class="k">${</span><span class="nv">KEY_NAME</span><span class="k">}</span> <span class="se">\</span>
  <span class="nt">--iam-instance-profile</span> <span class="nv">Name</span><span class="o">=</span><span class="k">${</span><span class="nv">INSTANCE_PROFILE_ROLE</span><span class="k">}</span> <span class="se">\</span>
  <span class="nt">--subnet-id</span> <span class="k">${</span><span class="nv">SUBNET_ID</span><span class="k">}</span> <span class="se">\</span>
  <span class="nt">--security-group-ids</span> <span class="k">${</span><span class="nv">JENKINS_SG</span><span class="k">}</span> <span class="se">\</span>
  <span class="nt">--tag-specifications</span> <span class="s1">'ResourceType=instance,Tags=[{Key=Name,Value=jenkins-aws-cli-generate}]'</span> <span class="se">\</span>
  <span class="nt">--block-device-mappings</span> <span class="s1">'DeviceName=/dev/sda1,Ebs={VolumeSize=100}'</span> <span class="se">\</span>
  <span class="nt">--user-data</span> file://userdata.txt
</code></pre></div></div> <h3 id="userdata를-이용한-jenkins-자동배포"> <a href="#userdata를-이용한-jenkins-자동배포" class="anchor-heading" aria-labelledby="userdata를-이용한-jenkins-자동배포"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> userdata를 이용한 Jenkins 자동배포 </h3> <h3 id="21-userdatatxt"> <a href="#21-userdatatxt" class="anchor-heading" aria-labelledby="21-userdatatxt"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1 userdata.txt </h3> <p>아래 스크립트는 EC2 인스턴스 생성 시 실행되며 Jenkins을 설치하기 위한 환경을 구축합니다. ~ 등으로 구성되었습니다.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># 사용자 변수 설정</span>
<span class="nv">USER_NAME</span><span class="o">=</span>ubuntu

<span class="c"># 사용자 디렉토리 생성 및 디렉토리 소유권변경</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> /home/ubuntu/jenkins/jenkins_home
<span class="nb">mkdir</span> <span class="nt">-p</span> /home/ubuntu/jenkins/data
<span class="nb">chown</span> <span class="nt">-R</span> <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> /home/ubuntu/jenkins

<span class="c"># Docker 설치</span>
<span class="nb">echo</span> <span class="s2">"1. [docker program installation] start"</span>
apt-get update <span class="nt">-y</span>
curl <span class="nt">-fsSL</span> https://get.docker.com <span class="nt">-o</span> get-docker.sh
sh get-docker.sh
usermod <span class="nt">-aG</span> docker <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span>
newgrp docker

<span class="c"># Docker 서비스 활성화 및 시작</span>
systemctl <span class="nb">enable </span>docker
systemctl start docker

<span class="c"># Docker Compose 설치</span>
apt list docker docker-compose
apt <span class="nb">install </span>docker-compose <span class="nt">-y</span>


<span class="nb">cd</span> ~/jenkins/data

<span class="c"># Jenkins Plugin 설치</span>
su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/plugins.txt &lt;&lt;EOF
configuration-as-code:1775.v810dc950b_514
role-strategy:713.vb_3837801b_8cc
EOF"</span>

<span class="c">## Jenkins Configuration as Code (JCasC) 정의</span>
su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/jenkins.yaml &lt;&lt;EOF
jenkins:
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: "</span>admin<span class="s2">"
            permissions:
              - "</span>Overall/Administer<span class="s2">"
            entries:
              - user: "</span>user1<span class="s2">"
              - user: "</span>admin<span class="s2">"
          - name: "</span><span class="nb">readonly</span><span class="s2">"
            permissions:
              - "</span>Overall/Read<span class="s2">"
            entries:
              - group: "</span>authenticated<span class="s2">"
              - user: "</span>anonymous<span class="s2">"
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "</span>admin<span class="s2">"
          password: "</span>1234<span class="s2">"
        - id: "</span>user1<span class="s2">"
          password: "</span>1234<span class="s2">"
EOF"</span>

<span class="c"># Dockerfile 생성</span>
su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/Dockerfile &lt;&lt;EOF
FROM jenkins/jenkins:jdk17
USER root
RUN apt-get update -y &amp;&amp; apt-get upgrade -y
USER jenkins
COPY ./plugins.txt /usr/share/jenkins/plugins.txt
RUN  jenkins-plugin-cli -f /usr/share/jenkins/plugins.txt
COPY ./jenkins.yaml /usr/share/jenkins/jenkins.yaml
EOF"</span>


<span class="c"># Docker-compose 파일 생성</span>
su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/docker-compose.yml &lt;&lt;EOF
version: '3.9'
services:
  jenkins:
    build: ~/jenkins/data
    container_name: jenkins
    user: jenkins
    environment:
      JAVA_OPTS:
        -Djenkins.install.runSetupWizard=false
        -Dorg.apache.commons.jelly.tags.fmt.timeZone=Asia/Seoul
      CASC_JENKINS_CONFIG: /usr/share/jenkins/jenkins.yaml
    restart: always
    ports:
      - </span><span class="se">\"</span><span class="s2">80:8080</span><span class="se">\"</span><span class="s2">
      - </span><span class="se">\"</span><span class="s2">50000:50000</span><span class="se">\"</span><span class="s2">
    volumes:
      - /home/ubuntu/jenkins/jenkins_home:/var/jenkins_home
EOF"</span>

su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cd ~/jenkins/data; docker-compose up -d"</span>
</code></pre></div></div> <h3 id="22-userdatatxt-상세-설명"> <a href="#22-userdatatxt-상세-설명" class="anchor-heading" aria-labelledby="22-userdatatxt-상세-설명"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2 userdata.txt 상세 설명 </h3> <p><strong>사용자 변수 지정</strong></p> <ul> <li>Jenkins과 Docker를 실행할 사용자 이름을 설정합니다. <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">USER_NAME</span><span class="o">=</span>ubuntu
</code></pre></div> </div> </li> </ul> <p><strong>사용자 디렉토리 생성 및 디렉토리 소유권변경</strong></p> <ul> <li>jenkins_home 디렉토리 : Jenkins 어플리케이션 중요 데이터 저장소입니다. 컨테이너 내부의 핵심 데이터를 외부에 저장하여 컨테이너 재시작 시 데이터 손실 없이 재 가동할 수 있도록 합니다.</li> <li>data 디렉토리 : Jenkins 설치에 필요한 추가 파일을 보관합니다.</li> <li>디렉토리 소유권 변경: 생성한 디렉토리와 하위 모든 파일의 소유권을 ${USER_NAME}로 설정합니다. <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> /home/ubuntu/jenkins/jenkins_home
<span class="nb">mkdir</span> <span class="nt">-p</span> /home/ubuntu/jenkins/data
<span class="nb">chown</span> <span class="nt">-R</span> <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span>:<span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> /home/ubuntu/jenkins
</code></pre></div> </div> </li> </ul> <p><strong>Docker 설치 및 시작</strong></p> <ul> <li>공식 Docker 설치 스크립트를 다운받아 실행합니다. 설정한 USER_NAME에 해당하는 사용자를 Docker 그룹에 추가합니다.</li> <li>기본적으로 도커 실행 권한은 root에만 있습니다. ${USER_NAME} 사용자를 Docker 그룹에 추가하여, sudo 없이 Docker 명령을 실행할 수 있도록 합니다.</li> <li>systemctl을 사용하여 Docker 서비스를 시스템 부팅 시 자동으로 시작되도록 설정합니다. ```bash <h1 id="docker-설치"> <a href="#docker-설치" class="anchor-heading" aria-labelledby="docker-설치"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker 설치 </h1> <p>echo “1. [docker program installation] start” apt-get update -y curl -fsSL https://get.docker.com -o get-docker.sh sh get-docker.sh usermod -aG docker ${USER_NAME} newgrp docker</p> </li> </ul> <h1 id="docker-서비스-활성화-및-시작"> <a href="#docker-서비스-활성화-및-시작" class="anchor-heading" aria-labelledby="docker-서비스-활성화-및-시작"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker 서비스 활성화 및 시작 </h1> <p>systemctl enable docker systemctl start docker</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
**Docker Compose 설치**
* docker-compse는 yml 파일에 Jenkins 설치 시 필요한 환경 변수와 볼륨 등 다양한 설정을 담음으로써, 
간단한 명령으로 docker를 실행시킬 수 있도록 합니다.
```bash
apt list docker docker-compose
apt install docker-compose -y
</code></pre></div></div> <p><strong>Jenkins Plugin 설치</strong></p> <ul> <li>configuration-as-code:1775.v810dc950b_514 : jenkins.yml 파일을 사용하여 Jenkins 구성을 코드 형태로 자동화하고 관리할 수 있게 해줍니다.</li> <li> <p>role-strategy:713.vb_3837801b_8cc: 사용자에게 역할 및 권한 부여를 통해 사용자의 접근 수준을 설정하여 Jenkins의 보안을 강화할 수 있습니다.</p> </li> <li>설치 후 아래와 같은 항목이 새롭게 생겨나게 됩니다. <img src="img-1.png" alt="img-1.png" /></li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/jenkins/data

su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/plugins.txt &lt;&lt;EOF
configuration-as-code:1775.v810dc950b_514
role-strategy:713.vb_3837801b_8cc
EOF"</span>
</code></pre></div></div> <p><strong>Jenkins Configuration as Code (JCasC) jenkins.yaml 파일 정의</strong></p> <p>설치된 플러그인을 활용하여, Jenkins의 구성을 jenkins.yaml 파일로 자동화합니다.</p> <p><strong>설정내용</strong></p> <ul> <li><strong>역할 기반 권한 부여</strong>: admin 역할에는 Jenkins의 전반적인 관리 권한(Overall/Administer)을 부여하고, readonly 역할에는 읽기 권한(Overall/Read)만 부여합니다.</li> <li> <p><strong>사용자 관리</strong>: securityRealm 설정을 통해 Jenkins 로그인에 필요한 사용자 계정을 생성합니다.</p> </li> <li><strong>jenkins.yaml 적용전</strong> <ul> <li>최초 플러그인을 실행시 현재 접속해 있는 admin 유저만 권한을 가지게 설정되어있습니다. <img src="img-3.png" alt="img-3.png" /></li> </ul> </li> <li><strong>jenkins.yaml 적용 후</strong> <ul> <li>새롭게 readonly 역할을 만들어 admin 유저가 아니더라도 로그인 된 인증된 유저가 젠킨슨 view 권한을 갖도록</li> <li>admin 권한에 생성한 유저를 추가할 수 있습니다.</li> <li>readonly 역할에 anonymous <img src="img-2.png" alt="img-2.png" /></li> </ul> </li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/jenkins.yaml &lt;&lt;EOF
jenkins:
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: "</span>admin<span class="s2">"
            permissions:
              - "</span>Overall/Administer<span class="s2">"
            entries:
              - user: "</span>user1<span class="s2">"
              - user: "</span>admin<span class="s2">"
          - name: "</span><span class="nb">readonly</span><span class="s2">"
            permissions:
              - "</span>Overall/Read<span class="s2">"
            entries:
              - group: "</span>authenticated<span class="s2">"
              - user: "</span>anonymous<span class="s2">"
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "</span>admin<span class="s2">"
          password: "</span>1234<span class="s2">"
        - id: "</span>user1<span class="s2">"
          password: "</span>1234<span class="s2">"
EOF"</span>
</code></pre></div></div> <p><strong>Docker File 생성</strong></p> <p>이 파일은 Jenkins 서버의 이미지를 생성하고, 앞서 정의한 플러그인을 설치하며, jenkins.yaml 파일을 Jenkins Configuration as Code 플러그인이 파일을 수행할 수 있는 위치에 복사하는 역할을 합니다.</p> <ul> <li>패키지 업데이트 및 업그레이드를 위해 root 사용자로 전환하여 이미지 내의 패키지를 최신 상태로 유지합니다.</li> <li>USER jenkins 명령어를 통해, 플러그인 설치와 관련된 작업을 root 가 아닌 Jenkins 사용자로 전환하여 실행합니다.</li> <li>jenkins-plugin-cli 를 통해 정의된 플러그인들을 설치합니다.</li> <li>Jenkins 이 정의된 jenkins.yaml 구성파일을 로드할 수 있도록 구성합니다.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/Dockerfile &lt;&lt;EOF
FROM jenkins/jenkins:jdk17
USER root
RUN apt-get update -y &amp;&amp; apt-get upgrade -y
USER jenkins
COPY ./plugins.txt /usr/share/jenkins/plugins.txt
RUN  jenkins-plugin-cli -f /usr/share/jenkins/plugins.txt
COPY ./jenkins.yaml /usr/share/jenkins/jenkins.yaml
EOF"</span>
</code></pre></div></div> <p><strong>Docker Compose 파일 생성 및 실행</strong></p> <ul> <li> <p>컨테이너 빌드 및 설정: build: ~/jenkins/data: Dockerfile이 위치한 디렉토리 경로를 지정하여 Jenkins 이미지를 빌드합니다.</p> </li> <li> <p>container_name: 생성될 컨테이너의 이름을 jenkins로 설정합니다.</p> </li> <li> <p>user: 컨테이너 내에서 jenkins 유저로 프로세스를 실행합니다.</p> </li> <li> <p>환경 변수 설정:</p> <ul> <li>JAVA_OPTS: Jenkins 설치 마법사를 건너뛰고, 시간대를 설정합니다.</li> <li>CASC_JENKINS_CONFIG: JCasC 플러그인이 jenkins.yaml 파일을 찾을 경로를 지정합니다.</li> </ul> </li> <li>restart: Docker 호스트가 재부팅되거나 컨테이너가 멈췄을 때 자동으로 컨테이너를 재시작하도록 설정합니다.</li> <li>포트 매핑: 호스트와 컨테이너 간의 포트를 매핑하여, 외부에서 Jenkins에 접근할 수 있도록 합니다.</li> <li>볼륨 마운트: - /home/ubuntu/jenkins/jenkins_home:/var/jenkins_home 옵션은 호스트의 jenkins_home 디렉토리를 컨테이너의 /var/jenkins_home에 마운트하여, Jenkins 데이터를 영구적으로 보존합니다.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Docker-compose 파일 생성</span>
su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cat &gt; ~/jenkins/data/docker-compose.yml &lt;&lt;EOF
version: '3.9'
services:
  jenkins:
    build: ~/jenkins/data
    container_name: jenkins
    user: jenkins
    environment:
      JAVA_OPTS:
        -Djenkins.install.runSetupWizard=false
        -Dorg.apache.commons.jelly.tags.fmt.timeZone=Asia/Seoul
      CASC_JENKINS_CONFIG: /usr/share/jenkins/jenkins.yaml
    restart: always
    ports:
      - </span><span class="se">\"</span><span class="s2">80:8080</span><span class="se">\"</span><span class="s2">
      - </span><span class="se">\"</span><span class="s2">50000:50000</span><span class="se">\"</span><span class="s2">
    volumes:
      - /home/ubuntu/jenkins/jenkins_home:/var/jenkins_home
EOF"</span>

su - <span class="k">${</span><span class="nv">USER_NAME</span><span class="k">}</span> <span class="nt">-c</span> <span class="s2">"cd ~/jenkins/data; docker-compose up -d"</span>
</code></pre></div></div> <h2 id="jenkins-접속하기"> <a href="#jenkins-접속하기" class="anchor-heading" aria-labelledby="jenkins-접속하기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> jenkins 접속하기 </h2> <p>http://<호스트의 IP="" 주소="" 또는="" 도메인="">:8080 에 접속합니다.</호스트의></p> <p>앞서 설치한 플러그인으로 새롭게 생겨난 아래 두 섹션을 확인할 수 있습니다.</p> <p><img src="img-1.png" alt="img-1.png" /></p> <h2 id="advanced-jenkins-configuration-as-code"> <a href="#advanced-jenkins-configuration-as-code" class="anchor-heading" aria-labelledby="advanced-jenkins-configuration-as-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Advanced Jenkins Configuration as Code </h2> <h3 id="1-세분화된-role-based-access-control--rbac--설정"> <a href="#1-세분화된-role-based-access-control--rbac--설정" class="anchor-heading" aria-labelledby="1-세분화된-role-based-access-control--rbac--설정"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. 세분화된 Role-Based Access Control ( RBAC ) 설정 </h3> <p><strong>Global roles</strong> <img src="img-5.png" alt="img-5.png" /> 적용 범위: Jenkins 어플리케이션 전체에 대한 Role을 정의합니다. 예를 들어 “Administer” 권한을 가진 admin Role은 Jenkins 설정을 변경할 수 있습니다.</p> <p><strong>Item roles</strong> <img src="img-4.png" alt="img-4.png" /> 목적: 특정 Jenkins 항목(예: 작업, 뷰, 폴더)에 대한 접근 권한을 세분화하여 정의합니다. 적용 범위: 특정 패턴이나 경로에 일치하는 항목에 대한 권한을 제어합니다. 이는 폴더 구조 내에서 미세한 접근 제어를 가능하게 하여, 특정 프로젝트 또는 팀의 작업에 대한 접근을 제한할 수 있습니다. 예시: ‘FolderA’ 역할은 “A/.” 패턴에 일치하는 모든 항목에 대한 특정 권한을 가지며, ‘FolderB’ 역할은 “B.” 패턴에 일치하는 항목에 대해 다른 권한 세트를 가집니다.</p> <h4 id="agent-roles"> <a href="#agent-roles" class="anchor-heading" aria-labelledby="agent-roles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Agent roles </h4> <p>Jenkins에서 “Manage Roles” 페이지는 역할 기반 접근 제어(Role-Based Access Control, RBAC)를 설정하는 중요한 부분입니다. 여기서 관리자는 세 가지 유형의 역할을 정의할 수 있습니다: “Global roles”, “Item roles”, 그리고 “Agent roles”. 이 역할들은 Jenkins 내에서 다양한 자원과 작업에 대한 접근 권한을 세밀하게 제어할 수 있게 합니다. 각 역할 유형의 차이점을 이해하는 것은 권한 관리와 보안 정책을 효과적으로 적용하는 데 중요합니다.</p> <p>Global Roles 목적: Jenkins 인스턴스 전체에 대한 권한을 정의합니다. 적용 범위: Jenkins의 모든 부분에 걸쳐 일반적인 권한을 제공합니다. 예를 들어, “Administer” 권한을 가진 사용자는 Jenkins 설정을 변경할 수 있는 반면, “Read” 권한을 가진 사용자는 정보를 볼 수만 있습니다. 예시: ‘admin’ 역할에는 시스템 전체를 관리할 수 있는 권한이 부여될 수 있으며, ‘readonly’ 역할에는 시스템 전체를 볼 수 있는 권한만 부여됩니다. Item Roles 목적: 특정 Jenkins 항목(예: 작업, 뷰, 폴더)에 대한 접근 권한을 세분화하여 정의합니다. 적용 범위: 특정 패턴이나 경로에 일치하는 항목에 대한 권한을 제어합니다. 이는 폴더 구조 내에서 미세한 접근 제어를 가능하게 하여, 특정 프로젝트 또는 팀의 작업에 대한 접근을 제한할 수 있습니다. 예시: ‘FolderA’ 역할은 “A/.” 패턴에 일치하는 모든 항목에 대한 특정 권한을 가지며, ‘FolderB’ 역할은 “B.” 패턴에 일치하는 항목에 대해 다른 권한 세트를 가집니다. Agent Roles 목적: Jenkins 에이전트에 대한 접근 권한을 정의합니다. Jenkins 에이전트는 빌드와 관련 작업을 실행하는 데 사용되는 시스템입니다. 적용 범위: 특정 에이전트 또는 에이전트 그룹에 대한 접근 권한을 제어합니다. 이를 통해 어떤 사용자가 에이전트를 구성하거나 조작할 수 있는지 결정할 수 있습니다. 예시: ‘Agent1’ 역할은 “agent1” 패턴에 일치하는 특정 에이전트에 대한 권한을 제어합니다. 각 역할 유형은 Jenkins 내에서 특정 자원에 대한 접근과 관리를 세밀하게 조절할 수 있는 유연성을 제공합니다. 이를 통해 조직은 필요에 따라 보안 정책을 세분화하고 엄격하게 적용할 수 있습니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jenkins:
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: <span class="s2">"admin"</span>
            permissions:
              - <span class="s2">"Overall/Administer"</span>
            entries:
              - user: <span class="s2">"admin"</span>
          - name: <span class="s2">"readonly"</span>
            permissions:
              - <span class="s2">"Overall/Read"</span>
              - <span class="s2">"Job/Read"</span>
            entries:
              - user: <span class="s2">"authenticated"</span>
        items:
          - name: <span class="s2">"FolderA"</span>
            pattern: <span class="s2">"A/.*"</span>
            permissions:
              - <span class="s2">"Job/Configure"</span>
              - <span class="s2">"Job/Build"</span>
              - <span class="s2">"Job/Delete"</span>
            entries:
              - user: <span class="s2">"user1"</span>
              - user: <span class="s2">"user2"</span>
          - name: <span class="s2">"FolderB"</span>
            pattern: <span class="s2">"B.*"</span>
            permissions:
              - <span class="s2">"Job/Configure"</span>
              - <span class="s2">"Job/Build"</span>
            entries:
              - user: <span class="s2">"user2"</span>
        agents:
          - name: <span class="s2">"Agent1"</span>
            description: <span class="s2">"Agent 1"</span>
            pattern: <span class="s2">"agent1"</span>
            permissions:
              - <span class="s2">"Agent/Build"</span>
            entries:
              - user: <span class="s2">"user1"</span>
  securityRealm:
    <span class="nb">local</span>:
      allowsSignup: <span class="nb">false
      users</span>:
        - <span class="nb">id</span>: <span class="s2">"admin"</span>
          password: <span class="s2">"1234"</span>
        - <span class="nb">id</span>: <span class="s2">"user1"</span>
          password: <span class="s2">""</span>
        - <span class="nb">id</span>: <span class="s2">"user_hashed"</span>
          <span class="c"># password is password</span>
          password: <span class="s2">"#jbcrypt:</span><span class="nv">$2a$10$3bnAsorIxhl9kTYvNHa2hOJQwPzwT4bv9Vs</span><span class="s2">.9KdXkh9ySANjJKm5u"</span>

</code></pre></div></div> <h2 id="faq"> <a href="#faq" class="anchor-heading" aria-labelledby="faq"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FAQ </h2> <p>Q: 설치된 젠킨슨에서 플러그인을 재대로 다운받지 못하면 어떻게 해야 하나요?</p> <p>A: 보안 그룹 설정에 플러그인을 다운받기위한 HTTP, HTTPS 포트가 열려 있는지 확인합니다.</p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
